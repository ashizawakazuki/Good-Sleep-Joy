<% content_for(:title, 'いいねランキング') %>
<div class="container mx-auto my-8 text-center p-4">
  <h1 class="text-3xl font-bold mb-6 ">人気のアイテム投稿</h1>
  <table class="table-auto mx-auto text-center my-16">
    <tr class = "text-sm md:text-base lg:text-xl">
      <th class = "px-4 py-2">順位</th>
      <th class = "px-4 py-2" >タイトル</th>
      <th class = "px-4 py-2">ユーザー</th>
      <th class = "px-4 py-2">いいね数</th>
    </tr>

  <% i = 0 %>
  <% @item_post_ranking.each do |n| %>
    <% i += 1 %>
    <% if i == 1%>
      <tr class = "text-sm md:text-base lg:text-xl">
        <td class = "flex flex-row items-center justify-center gap-2 py-2"><%= image_tag "gold.png", alt: '金の冠のアイコン', class: "w-4 h-4 md:w-6 md:h-6 lg:w-8 lg:h-8" %><%= "#{i}" %></td>
        <td class = "py-2"><%= link_to n.title, item_post_path(n), class: 'font-bold text-gray-800 hover:underline hover:bg-sky-100'%></td>
        <td class = "py-2"><%= n.user.name %></td>
        <td class = "py-2"><%= n.item_likes.count %></td>
      </tr>
    <% elsif i == 2 %>
      <tr class = "text-sm md:text-base lg:text-xl">
        <td class = "flex flex-row items-center justify-center gap-2 py-2"><%= image_tag "silver.png", alt: '銀の冠のアイコン', class: "w-4 h-4 md:w-6 md:h-6 lg:w-8 lg:h-8" %><%= "#{i}" %></td>
        <td class = "py-2"><%= link_to n.title, item_post_path(n), class: 'font-bold text-gray-800 hover:underline hover:bg-sky-100'%></td>
        <td class = "py-2"><%= n.user.name %></td>
        <td class = "py-2"><%= n.item_likes.count %></td>
      </tr>
    <% elsif i == 3 %>
      <tr class = "text-sm md:text-base lg:text-xl">
        <td class = "flex flex-row items-center justify-center gap-2 py-2"><%= image_tag "bronze.png", alt: '銅の冠のアイコン', class: "w-4 h-4 md:w-6 md:h-6 lg:w-8 lg:h-8" %><%= "#{i}" %></td>
        <td class = "py-2"><%= link_to n.title, item_post_path(n), class: 'font-bold text-gray-800 hover:underline hover:bg-sky-100'%></td>
        <td class = "py-2"><%= n.user.name %></td>
        <td class = "py-2"><%= n.item_likes.count %></td>
      </tr>
    <% else %>
      <tr class = "text-sm md:text-base lg:text-xl">
        <td class = "flex flex-row items-center justify-center gap-2 py-2"><%= "#{i}" %></td>
        <td class = "py-2"><%= link_to n.title, item_post_path(n), class: 'font-bold text-gray-800 hover:underline hover:bg-sky-100'%></td>
        <td class = "py-2"><%= n.user.name %></td>
        <td class = "py-2"><%= n.item_likes.count %></td>
      </tr>
    <% end %>
  <% end %>

  </table>
</div>